# lambda

lambda — это специальная конструкция для создания анонимных (безымянных) функций, которые обычно используются для простых операций, не требующих полного определения функции с использованием def. Такие функции чаще всего применяются там, где требуется передать небольшую функцию в качестве аргумента другой функции, или в качестве краткого варианта, если требуется выполнить одну операцию.

## Синтаксис lambda

```python
lambda аргументы: выражение
```

* **lambda** — ключевое слово, определяющее создание анонимной функции.
* **аргументы** — список входных параметров (как в обычной функции).
* **выражение** — код, который будет возвращен лямбда-функцией. Это должно быть одно выражение, результат которого автоматически возвращается.

```python
f = lambda x, y: x + y
print(f(2, 3))  # Выведет 5
```

Здесь lambda x, y: x + y создает функцию, которая принимает два аргумента (x и y) и возвращает их сумму (x + y).

## Особенности lambda функций

* **Анонимность**: такие функции не имеют имени и создаются "на лету".
* **Ограниченность**: тело функции lambda ограничено одним выражением, поэтому для более сложных вычислений обычно используется def.
* **Лямбда-функции** возвращают значение автоматически: в отличие от def, где используется return, lambda возвращает результат выражения без явного указания return.

## Использование lambda

Лямбда-функции часто применяются в качестве аргументов для таких функций, как map(), filter(), и sorted(), а также везде, где требуется передать небольшую функцию для кратковременного использования.

### 1. Использование с map()

Функция map() применяет указанную функцию к каждому элементу итерируемого объекта.

```python
numbers = [1, 2, 3, 4]
squared = list(map(lambda x: x ** 2, numbers))
print(squared)  # Выведет [1, 4, 9, 16]
```

### 2. Использование с filter()

Функция filter() фильтрует элементы итерируемого объекта, возвращая те, для которых функция возвращает True.

```python
numbers = [1, 2, 3, 4, 5, 6]
even = list(filter(lambda x: x % 2 == 0, numbers))
print(even)  # Выведет [2, 4, 6]
```

### 3. Использование с sorted()

Функция sorted() может принимать параметр key, который определяет, как сортировать элементы.

```python
students = [("Alice", 25), ("Bob", 20), ("Charlie", 23)]
sorted_students = sorted(students, key=lambda x: x[1])
print(sorted_students)
# Выведет [('Bob', 20), ('Charlie', 23), ('Alice', 25)]
```

## Лямбда-функции и функциональное программирование

lambda часто применяется в функциональном программировании для краткости. Например, reduce() (в модуле functools) может использовать лямбда-функцию для операций, как свертка элементов списка:

```python
from functools import reduce
numbers = [1, 2, 3, 4]
product = reduce(lambda x, y: x * y, numbers)
print(product)  # Выведет 24
```

## Ограничения лямбда-функций

* **Одна строка**: тело лямбда-функции должно быть написано в одной строке.
* **Без многострочных выражений**: нельзя использовать if-else или циклы внутри лямбды без инлайн-операторов.
* **Читаемость кода**: использование лямбд может затруднить понимание кода, особенно если выражения становятся сложными. В этом случае лучше использовать обычную функцию.

## Лямбда и if-else

Внутри лямбда-функции можно использовать выражения if-else, но не в многострочном формате:

```python
max_func = lambda x, y: x if x > y else y
print(max_func(5, 3))  # Выведет 5
```

## Примеры сложных лямбд-функций

В Python можно комбинировать несколько операций в одной лямбда-функции:

```python
complex_func = lambda x: (x ** 2 + 3) / (x - 1) if x != 1 else 'undefined'
print(complex_func(2))  # Выведет 2.5
print(complex_func(1))  # Выведет 'undefined'
```

## Лямбда-функции внутри других функций

Лямбда-функции могут быть полезны при создании функций внутри других функций, когда требуется передать поведение "на лету":

```python
def make_multiplier(n):
    return lambda x: x * n

double = make_multiplier(2)
print(double(5))  # Выведет 10
```

## Когда использовать lambda

* Когда функция требуется в одном месте.
* Когда нужно передать простую операцию в качестве аргумента.
* Когда краткость важнее читабельности.

## Заключение

Лямбда-функции — мощный инструмент для создания простых функций "на лету". Они позволяют создавать лаконичные выражения, которые полезны при работе с функциями высшего порядка, но не подходят для сложных операций.

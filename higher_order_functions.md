# Higher-order functions

**higher-order functions** в Python — это функции, которые могут принимать другие функции в качестве аргументов или возвращать функции как результат. Этот подход является мощным инструментом функционального программирования и широко используется для создания более гибкого и чистого кода. Давайте рассмотрим, как они работают, и приведем примеры.

## Особенности и преимущества функций высшего порядка

* **Упрощать код**: можно выделить повторяющиеся операции в отдельные функции, а затем передавать их в качестве параметров.
* **Избегать дублирования**: благодаря возможности передавать функции как аргументы, можно минимизировать повторение кода.
* **Повышать читаемость и модульность кода**: высокоуровневые абстракции делают код более понятным и легче поддерживаемым.

## Примеры функций высшего порядка в Python

В Python есть несколько встроенных функций высшего порядка, таких как map(), filter(), и reduce(). Также можно создавать свои собственные функции высшего порядка.

### 1. Функция map()

Функция map() применяет переданную функцию к каждому элементу итерируемого объекта (например, списка) и возвращает итератор с результатами.

```python
numbers = [1, 2, 3, 4, 5]

# Возведем каждый элемент в квадрат с помощью map и lambda
squared = map(lambda x: x ** 2, numbers)
print(list(squared))  # Вывод: [1, 4, 9, 16, 25]
```

Здесь lambda x: x ** 2 — это анонимная функция, переданная в map, которая возводит каждый элемент списка numbers в квадрат.

### 2. Функция filter()

Функция filter() отбирает элементы из итерируемого объекта, для которых переданная функция возвращает True.

```python
numbers = [1, 2, 3, 4, 5]

# Отберем только четные числа
evens = filter(lambda x: x % 2 == 0, numbers)
print(list(evens))  # Вывод: [2, 4]
```

Функция filter() в этом случае принимает лямбда-функцию, которая проверяет, является ли число четным.

### 3. Функция reduce()

Функция reduce() из модуля functools применяется для последовательного накопления результатов на основе бинарной функции, передаваемой ей в качестве аргумента.

```python
from functools import reduce

numbers = [1, 2, 3, 4, 5]

# Найдем произведение всех чисел
product = reduce(lambda x, y: x * y, numbers)
print(product)  # Вывод: 120
```

Функция reduce() использует лямбда-функцию для последовательного умножения всех чисел в списке.

### Создание собственных функций высшего порядка

Можно написать свою функцию высшего порядка, которая принимает другую функцию как аргумент. Например, создадим функцию, которая будет применять переданную функцию к каждому элементу списка.

```python
def apply_function(data, func):
    return [func(x) for x in data]

numbers = [1, 2, 3, 4, 5]

# Возведем каждый элемент в квадрат
print(apply_function(numbers, lambda x: x ** 2))  # Вывод: [1, 4, 9, 16, 25]
```

Здесь apply_function принимает список data и функцию func, применяя эту функцию к каждому элементу списка.

## Заключение

Функции высшего порядка в Python — это мощный инструмент для работы с функциями и итерируемыми объектами, который позволяет писать чистый, модульный и эффективный код.